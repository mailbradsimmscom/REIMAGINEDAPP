entrypoint = "index.js"
modules = ["nodejs-22"]
hidden = [".config", "package-lock.json"]

[gitHubImport]
requiredFiles = [".replit", "replit.nix", "package.json", "package-lock.json"]

[nix]
channel = "stable-24_11"

# What the Run button does in the workspace
run = ["bash","-lc","export PORT=3000; npx -y kill-port 3000 >/dev/null 2>&1 || true; node index.js"]
packages = ["lsof"]

[deployment]
run = ["bash","-lc","export PORT=3000; node index.js"]
deploymentTarget = "autoscale"
ignorePorts = false

[[ports]]
localPort = 3000
externalPort = 3000

[[ports]]
localPort = 3002
externalPort = 80


